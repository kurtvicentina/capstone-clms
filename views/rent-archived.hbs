<div class="container pt-5">
<div class="row">
  <div class="col-6"><h1>Archived Rents</h1></div>
  <div class="col-6 d-flex justify-content-end">

  </div>
</div>

<table class="table table-info table-striped table-hover text-center table-bordered border-info">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">ISBN</th>
      <th scope="col">Title</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Username</th>
      <th scope="col">Contact Number</th>
      <th scope="col">Borrow Date</th>
      <th scope="col">Return Date</th>
      <th scope="col">Action</th>
    </tr>
</thead>
  <tbody>

    {{#each data}}
    <tr>
      <th scope="row">{{this.borrowId}}</th>
      <td>{{this.isbn}}</td>
      <td>{{this.title}}</td>
      <td>{{this.first_name}}</td>
      <td>{{this.last_name}}</td>
      <td>{{this.username}}</td>
      <td>{{this.contact}}</td>
      <td>{{formatDate this.borrow_date}}</td>
      <td>{{formatDate this.return_date}}</td>
      <td>
        <a href="#" class="btn btn-success btn-small archive-button" data-bs-toggle="modal" data-bs-target="#unarchiveConfirmationModal" onclick="setAction('/unarchiverent/{{this.borrowId}}')">
  <i class="bi bi-eye"></i> Unarchive
</a>
      </td>
    </tr>
    {{/each}}

  </tbody>
</table>
</div>

<div class="modal" id="unarchiveConfirmationModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Confirmation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to unarchive this rent??
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-success" id="confirmUnarchiveButton">Unarchive</button>
      </div>
    </div>
  </div>
</div>


<script>
  let actionUrl = '';

  function setAction(url) {
    actionUrl = url;
  }

  document.querySelector('#confirmUnarchiveButton').addEventListener('click', function () {
    if (actionUrl !== '') {
      window.location.href = actionUrl;
    }
  });
</script>